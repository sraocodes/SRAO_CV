{{ define "main" }}

<style>
    li {
        line-height: 1.75;
    }
    h2, h3, h4 {
        line-height: 2;
    }

    .page-break-control {
    page-break-before: auto;
    page-break-after: auto;
    }

    .gap {
        display: block;
        height: 30px; /* Adjust as needed */
        clear: both;
    }


    @media print {
        .gap {
            display: block;
            margin-top: 30px; /* Increased margin */
            margin-bottom: 30px;
            min-height: 30px; /* Add minimum height */
            height: auto; /* Adjust for print */
        }
    }



    @media print {
        /* Reduced font sizes for printing the CV */
        .container {
            font-size: 10px; /* Adjust this value as needed */
        }
        .container h1, .container h2, .container h3, .container h4 {
            font-size: 12px; /* Smaller headings for print */
        }
        .list-group-item {
            font-size: 10px; /* Smaller font for list items */
        }


</style>

<div class="container mt-5" style="max-width: 210mm;">
    <!-- Header Section -->
    <div class="row mb-4" style="background-color: #f5f5f5;">
        <!-- Profile Picture -->
        <div class="col text-center py-4">
            <img src="{{ $.Site.BaseURL }}{{ .Params.picture }}" class="img-fluid rounded-circle mb-3" alt="{{ .Params.name }}" style="max-width: 200px;">
            <h1>{{ .Params.name }}</h1>
            <h4>{{ .Params.current_position }}</h4>
            <p>{{ .Params.summary }}</p>
            <address>
                <div>🏠 {{ .Params.address }}</div>
                <div>📧 {{ .Params.email }}</div>
                <div>📞 {{ .Params.phone }}</div>
                <div>🌐 {{ .Params.web }}</div>
            </address>
        </div>
    </div>

    <!-- Practical Skills Section -->
    {{ with .Params.practical }}
    {{ range . }}
    <div class="row page-break">
        <div class="col">
            <h4 class="mb-3" style="color: #17a2b8;"><i class="fas fa-tools"></i> {{ .title }}</h4>
            <ul class="list-group mb-3">
                {{ range $index, $element := .items }}
                <li class="list-group-item">
                    {{ $symbols := slice "🤖" "🌾" "💻" "🔧" "🌟" }}
                    {{ $symbolIndex := mod $index (len $symbols) }}
                    <span>{{ index $symbols $symbolIndex }}</span> <span class="ml-2">{{ $element }}</span>
                </li>
                {{ end }}
            </ul>
        </div>
    </div>
    {{ end }}
    {{ end }}
    
    

    <!-- Education -->
    {{ with .Params.educational }}
    {{ range . }}
    <div class="row page-break">
        <div class="col">
            <h3 class="mb-3" style="color: #17a2b8;"><i class="fas fa-graduation-cap"></i> {{ .title }}</h3>
            {{ if .subsections }}
                {{ range .subsections }}
                <div class="mb-4 card border-primary">
                    <div class="card-header" style="background-color: #17a2b8; color: white;">
                        <h4 class="mb-0">{{ .subtitle1 }} <span class="badge badge-light">{{ .subtitle2 }}</span></h4>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            {{ range .items }}
                            <li class="list-group-item">
                                <i class="fa fa-chevron-right text-success" aria-hidden="true"></i>
                                <span class="ml-2">{{ . }}</span>
                            </li>
                            {{ end }}
                        </ul>
                    </div>
                </div>
                {{ end }}
            {{ else if .items }}
                <ul class="list-group">
                    {{ range .items }}
                    <li class="list-group-item">
                        <i class="fa fa-chevron-right text-success" aria-hidden="true"></i>
                        <span class="ml-2">{{ . }}</span>
                    </li>
                    {{ end }}
                </ul>
            {{ end }}
        </div>
    </div>
    {{ end }}
    {{ end }}

    <div class="gap"></div> <!-- This is the gap between sections -->
    <div class="gap"></div> <!-- This is the gap between sections -->
    <div class="gap"></div> <!-- This is the gap between sections -->
    <div class="gap"></div> <!-- This is the gap between sections -->

    <!-- Experience -->
    {{ with .Params.experience }}
    <div class="row page-break">
        <div class="col">
            {{ range . }}
            <h3 class="mb-3" style="color: #17a2b8;"><i class="fas fa-briefcase"></i> {{ .title }}</h3>
            {{ range .subsections }}
            <div class="mb-4 card border-secondary">
                <div class="card-header" style="background-color: #17a2b8; color: white;">
                    <h4 class="mb-0">{{ .subtitle1 }}</h4>
                </div>
                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        {{ range .items }}
                        <li class="list-group-item">
                            <i class="fa fa-caret-right text-secondary" aria-hidden="true"></i>
                            <span class="ml-2">{{ . }}</span>
                        </li>
                        {{ end }}
                    </ul>
                </div>
            </div>
            {{ end }}
            {{ end }}
        </div>
    </div>
    {{ end }}

    <div class="gap"></div> <!-- This is the gap between sections -->
    <div class="gap"></div> <!-- This is the gap between sections -->

    <!-- Projects Section -->
    {{ with .Params.projects }}
    <div class="row page-break">
        <div class="col">
            {{ range . }}
            <h3 class="mb-3" style="color: #17a2b8;"><i class="fas fa-project-diagram"></i> {{ .title }}</h3>
            {{ range .subsections }}
            <div class="mb-4 card border-info"> <!-- Changed to border-info for a different color -->
                <div class="card-header" style="background-color: #17a2b8; color: white;">
                    <h4 class="mb-0">{{ .subtitle1 }} <span class="badge badge-light">{{ .subtitle2 }}</span></h4>
                </div>
                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        {{ range .items }}
                        <li class="list-group-item">
                            <i class="fa fa-check-circle text-info" aria-hidden="true"></i> <!-- Changed icon to fa-check-circle -->
                            <span class="ml-2">{{ . }}</span>
                        </li>
                        {{ end }}
                    </ul>
                </div>
            </div>
            <br> <!-- This is the gap within a section -->
            {{ end }}
            {{ end }}
        </div>
    </div>
    {{ end }}

    <div class="gap"></div> <!-- This is the gap between sections -->
    <div class="gap"></div> <!-- This is the gap between sections -->
    <div class="gap"></div> <!-- This is the gap between sections -->
    <div class="gap"></div> <!-- This is the gap between sections -->

    <!-- Publications Section -->
    <div class="container mt-4">
        <!-- Publication List -->
        {{ with .Params.pubs }}
        {{ range . }}
        {{ if eq .title "Publications" }}
        <div class="mb-4">
            <h3 class="mb-3" style="color: #17a2b8;"><i class="fas fa-book-reader"></i> {{ .title }}</h3>
            <ol class="list-group list-group-numbered">
                {{ range $index, $element := .items }}
                <li class="list-group-item">
                    <span class="fw-bold">[{{ add $index 1 }}]</span> {{ $element }}
                </li>
                {{ end }}
            </ol>
        </div>
        {{ end }}
        {{ end }}
        {{ end }}
    </div>




      
    
</div>
<button id="download">Download as PDF</button>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
<script src="{{ $.Site.BaseURL }}/js/main.js" defer></script>

{{ end }}
